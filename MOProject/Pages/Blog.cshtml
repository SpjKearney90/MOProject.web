@page
@model MOProject.Pages.BlogModel
@using X.PagedList.Mvc.Core
@{
    // Layout = null;
    string thumbnailUrl = Model.HomeVM.ThumbnailUrl == null || Model.HomeVM.ThumbnailUrl == "" ? "~Admin/ThumbNail/Thumbnail" : "/thumbnails/" + Model.HomeVM.ThumbnailUrl;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@Model.HomeVM.Title</title>
    <link rel="stylesheet" href="./Blogstyles.css">
</head>
<body>
    <!-- Page Header -->
    <header class="masthead" style="background-image: url('@thumbnailUrl')">
        <div class="position-relative px-lg-5 container px-4">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <div class="site-heading">
                        <h1>@Model.HomeVM.Title</h1>
                        <span class="subheading">@Model.HomeVM.ShortDescription</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Blog Posts -->
    <div class="px-lg-5 container px-4">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                @foreach (var post in Model.HomeVM.Posts)
                {
                    <!-- Post Preview -->
                    <div class="post-preview">
                        <a href="@Url.Page("BlogPost", new { slug = post.Slug })">
                            <h2 class="post-title">@post.Title</h2>
                            <h3 class="post-subtitle">@post.ShortDescription</h3>
                        </a>
                        <p class="post-meta">
                            Posted by
                            <a href="#!">@post.ApplicationUser.FirstName @post.ApplicationUser.LastName</a>
                            on @post.CreatedDate.ToShortDateString()
                        </p>
                    </div>
                    <!-- Divider -->
                    <hr class="my-4" />
                }

                <!-- Pagination -->
                <div class="pagination">
                    @if (Model.HomeVM.Posts.HasPreviousPage)
                    {
                        <a href="@Url.Page("Blog", new { page = Model.HomeVM.Posts.PageNumber - 1 })" class="btn btn-primary mx-1">Previous</a>
                    }
                    @if (Model.HomeVM.Posts.HasNextPage)
                    {
                        <a href="@Url.Page("Blog", new { page = Model.HomeVM.Posts.PageNumber + 1 })" class="btn btn-primary mx-1">Next</a>
                    }
                </div>
            </div>
        </div>
    </div>

</body>
</html>
